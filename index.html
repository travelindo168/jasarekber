<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>REKBERINAJA - Web App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    :root {
      --biru: #1e8cff;
      --biru-muda: #e6f2ff;
    }
    body {
      background: linear-gradient(180deg, var(--biru-muda), #fff);
      font-family: 'Segoe UI', sans-serif;
      min-height: 100vh;
      padding-bottom: 80px;
    }
    .banner {
      background: var(--biru);
      color: white;
      padding: 1rem;
      text-align: center;
      border-radius: 12px;
      font-weight: bold;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
    }
    .banner-logo {
      background: white;
      color: var(--biru);
      border-radius: 50%;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 1.1rem;
    }
    .bottom-nav {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: #fff;
      border-top: 1px solid #ddd;
      display: flex;
      justify-content: space-around;
      padding: .4rem 0;
      box-shadow: 0 -4px 12px rgba(0,0,0,0.08);
    }
    .nav-item {
      flex: 1;
      text-align: center;
      color: var(--biru);
      font-size: .8rem;
    }
    .nav-item svg {
      width: 22px; height: 22px; display: block; margin: 0 auto 4px;
    }
    .map-iframe {
      width: 100%; height: 280px; border: 0; border-radius: 8px;
    }
    @media (max-width: 576px) {
      .modal-fullscreen-sm-down .modal-content { border-radius: 0; }
    }
  </style>
</head>
<body>

  <div class="container py-3">
    <div class="banner mb-3">
      <div class="banner-logo">RAJ</div>
      <span>REKBERINAJA AMAN DAN CEPAT untuk semua transaksi</span>
    </div>

    <div class="text-center mb-3">
      <button class="btn btn-primary btn-lg" id="mulaiBtn">Mulai Transaksi</button>
    </div>

    <div class="card p-3 mb-4">
      <h5>Instruksi Transaksi</h5>
      <ol>
        <li>Klik tombol <b>Mulai Transaksi</b>.</li>
        <li>Isi nama pembeli, penjual, dan nomor WhatsApp (+62 otomatis).</li>
        <li>Masukkan nominal transaksi ‚Äî sistem menghitung fee otomatis.</li>
        <li>Set lokasi transaksi (wajib) agar muncul di peta dan dikirim ke admin.</li>
        <li>Tulis deskripsi transaksi (contoh: Akun Game Mobile Legends).</li>
        <li>Klik ‚ÄúKirim ke Admin‚Äù untuk mengirim detail ke WhatsApp admin.</li>
      </ol>
    </div>

    <!-- TESTIMONI -->
    <div class="card p-3 mb-4" id="testimoni">
      <h5>Testimoni Pengguna</h5>
      <div id="testiCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner" id="carouselInner"></div>
      </div>
      <p class="mt-2 text-center">
        <a href="https://www.facebook.com/share/p/1FTPoh34Wf/" target="_blank">Lihat testimoni lain di Facebook</a>
      </p>
    </div>

    <!-- PROFIL -->
    <div class="card p-3" id="profil">
      <h5>Profil Rekberinaja</h5>
      <div class="text-center">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEilVLbn175XWOXs2T5L4FSyOuaxkbdOGdliRbbK5aPAcbe1bIWEAko3tvG7LEC1zkmuP5esoB5Q8Ez9JPd6mPerB8dWkAJCAKhqpBbWPHw6p3-VAsS728cFSLnaXiBRTM4qcgWuNKcokEoBeSMyR6TE-cgrOcP79mHduy-2erIRKdazh4b9sSh2YTCTboHv/s981/IMG_20250911_201506.jpg"
             class="rounded-circle mb-2" width="120">
        <h6>FERI PRADANA</h6>
        <p>RIAU - KABUPATEN ROKANHULU, UJUNGBATU,<br>JL. LUBUK BENDAHARA, SUKAMAJU</p>
        <h6>Visi</h6>
        <p>Menyediakan layanan rekening bersama aman, cepat, dan terpercaya.</p>
        <h6>Misi</h6>
        <ul class="text-start">
          <li>Menjamin keamanan dana hingga transaksi selesai.</li>
          <li>Memberikan layanan transparan dan cepat tanggap.</li>
          <li>Mendukung transaksi online aman bagi semua pengguna.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- MODAL TRANSAKSI -->
  <div class="modal fade" id="formModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-fullscreen-sm-down">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Form Transaksi REKBERINAJA</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="txForm">
            <div class="row g-3">
              <div class="col-md-6">
                <label>Nama Pembeli</label>
                <input id="buyerName" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>No. WhatsApp Pembeli</label>
                <div class="input-group">
                  <span class="input-group-text">+62</span>
                  <input id="buyerPhone" class="form-control" required>
                </div>
              </div>
              <div class="col-md-6">
                <label>Nama Penjual</label>
                <input id="sellerName" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>No. WhatsApp Penjual</label>
                <div class="input-group">
                  <span class="input-group-text">+62</span>
                  <input id="sellerPhone" class="form-control" required>
                </div>
              </div>
              <div class="col-md-6">
                <label>Nominal Transaksi</label>
                <input id="nominal" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>Fee Rekber</label>
                <input id="fee" class="form-control" readonly>
              </div>
              <div class="col-12">
                <label>Deskripsi Transaksi</label>
                <textarea id="desc" class="form-control" rows="2"></textarea>
              </div>
              <div class="col-12">
                <label>Lokasi Transaksi</label>
                <iframe id="mapFrame" class="map-iframe"></iframe>
                <button type="button" class="btn btn-outline-primary mt-2 w-100" id="setLoc">üìç Set Lokasi Transaksi</button>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
          <button class="btn btn-success" id="sendBtn">Kirim ke Admin</button>
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM NAV -->
  <div class="bottom-nav">
    <div class="nav-item" onclick="scrollToTop()"><i data-lucide='home'></i>Home</div>
    <div class="nav-item" onclick="document.querySelector('#testimoni').scrollIntoView({behavior:'smooth'})"><i data-lucide='message-circle'></i>Testimoni</div>
    <div class="nav-item" onclick="document.querySelector('#profil').scrollIntoView({behavior:'smooth'})"><i data-lucide='user'></i>Profil</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    lucide.createIcons();

    const adminNumber = '6281262433533';

    function calcFee(n) {
      n = Number(n);
      if (n >= 10000 && n <= 50000) return 2000;
      if (n <= 100000) return 5000;
      if (n <= 500000) return 10000;
      if (n <= 1000000) return 15000;
      if (n <= 9999000) return 20000;
      if (n <= 50000000) return 25000;
      if (n <= 99999000) return 50000;
      return 0;
    }

    document.getElementById('mulaiBtn').onclick = () => {
      new bootstrap.Modal('#formModal').show();
    };

    document.getElementById('nominal').oninput = e => {
      const val = e.target.value.replace(/\D/g, '');
      e.target.value = val;
      document.getElementById('fee').value = calcFee(val).toLocaleString('id-ID');
    };

    document.getElementById('setLoc').onclick = () => {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const lat = pos.coords.latitude, lon = pos.coords.longitude;
          const url = `https://maps.google.com/maps?q=${lat},${lon}&z=15&output=embed`;
          document.getElementById('mapFrame').src = url;
          document.getElementById('mapFrame').dataset.url = `https://maps.google.com/?q=${lat},${lon}`;
        });
      } else alert("GPS tidak didukung di perangkat ini.");
    };

    document.getElementById('sendBtn').onclick = () => {
      const buyerName = document.getElementById('buyerName').value;
      const buyerPhone = document.getElementById('buyerPhone').value;
      const sellerName = document.getElementById('sellerName').value;
      const sellerPhone = document.getElementById('sellerPhone').value;
      const nominal = document.getElementById('nominal').value;
      const fee = document.getElementById('fee').value;
      const desc = document.getElementById('desc').value;
      const mapLink = document.getElementById('mapFrame').dataset.url || '';

      if (!buyerName || !buyerPhone || !sellerName || !sellerPhone || !nominal)
        return alert('Mohon lengkapi semua data transaksi.');

      const msg = `*PESANAN REKBERINAJA*%0A` +
        `üë§ Pembeli: ${buyerName}%0Aüìû +62${buyerPhone}%0A` +
        `üíº Penjual: ${sellerName}%0Aüìû +62${sellerPhone}%0A` +
        `üí∞ Nominal: Rp${nominal}%0Aüí∏ Fee: Rp${fee}%0Aüìù ${desc}%0A` +
        `üìç Lokasi: ${mapLink}`;

      const waUrl = `https://wa.me/${adminNumber}?text=${encodeURI(msg)}`;
      window.open(waUrl, '_blank');
    };

    const testiData = [
      { n: 'Andi Pratama', t: 'Transaksi aman dan cepat!' },
      { n: 'Siti Nurhaliza', t: 'Fee murah dan pelayanan ramah.' },
      { n: 'Budi Santoso', t: 'Sangat membantu jual beli online.' },
      { n: 'Rina Marlina', t: 'Langsung cair setelah konfirmasi!' },
      { n: 'Dedi Kurniawan', t: 'Terpercaya, rekomendasi banget.' },
      { n: 'Wawan Setiawan', t: 'Sudah pakai berkali-kali, aman.' },
      { n: 'Laras Putri', t: 'UI-nya seperti aplikasi Android.' },
      { n: 'Rizky Hidayat', t: 'Support 24 jam keren banget.' },
      { n: 'Mira Ayu', t: 'Proses cepat tanpa ribet.' },
      { n: 'Fajar Ramadhan', t: 'Rekberinaja mantap üëç' }
    ];
    const carouselInner = document.getElementById('carouselInner');
    testiData.forEach((t, i) => {
      const div = document.createElement('div');
      div.className = 'carousel-item' + (i === 0 ? ' active' : '');
      div.innerHTML = `<div class="p-3 text-center"><p>"${t.t}"</p><p class="text-muted mb-0">‚Äì ${t.n}</p></div>`;
      carouselInner.appendChild(div);
    });

    function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
  </script>
</body>
</html>
