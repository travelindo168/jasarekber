<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JB JUAN STORE - Top Up & Rekber</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --bg1:#040404; --bg2:#0b0b0b;
      --accent:#ff3b3b; --muted:#bfbfbf;
    }
    html,body{height:100%;margin:0}
    body{
      background: linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 100%);
      color:#fff; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .wrap{max-width:420px;margin:0 auto;padding:20px 18px;text-align:center}
    .brand{font-size:44px;font-weight:800;color:var(--accent);letter-spacing:2px;margin-top:6px}
    .rekber-btn{
      display:inline-block;margin:20px auto 8px;padding:14px 46px;border-radius:34px;
      border:5px solid var(--accent); color:var(--accent); font-weight:800; text-decoration:none;
      background:transparent; font-size:18px;
    }
    .section-title{margin-top:28px;color:var(--accent);font-weight:800;letter-spacing:1px}
    .grid{margin-top:18px}
    .cards{display:flex;flex-wrap:wrap;gap:14px;justify-content:center}
    .card-game{
      width: calc(50% - 20px);
      min-height:92px;
      border-radius:22px;
      padding:18px;
      display:flex;flex-direction:column;justify-content:center;align-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border:3px solid rgba(255,59,59,0.12);
      color:var(--accent);
      font-weight:800;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease;
    }
    .card-game small{display:block;color:var(--muted);font-weight:700;margin-top:8px}
    .card-game:active{transform:scale(.995)}
    footer{margin-top:28px;padding:18px 0;color:var(--muted);font-weight:700}
    /* modal */
    .modal-content{background:#0c0c0c;color:#fff;border-radius:12px}
    .modal-header .btn-close{filter:invert(1)}
    label{font-weight:700;color:#fff}
    .pay-preview{background:#0d0d0d;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .qris-img{max-width:220px;display:block;margin:10px auto}
    /* small screens adjustments */
    @media (max-width:420px){
      .brand{font-size:40px}
      .rekber-btn{padding:12px 28px}
      .card-game{width: calc(50% - 16px);min-height:82px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="brand">FERI STORE</div>
    <a href="#" id="openRekber" class="rekber-btn">JASA REKBER</a>

    <h4 class="section-title">TOP UP DIAMOND GAME</h4>

    <div class="grid">
      <div class="cards">
        <div class="card-game" data-game="mlbb" onclick="openProduct('mlbb')">
          <div style="text-align:center;">
            Mobile<br>Legend
            <small>Top-up MLBB</small>
          </div>
        </div>

        <div class="card-game" data-game="ff" onclick="openProduct('ff')">
          <div style="text-align:center;">
            FREE FIRE
            <small>Top-up FF</small>
          </div>
        </div>

        <div class="card-game" data-game="pubg" onclick="openProduct('pubg')">
          <div style="text-align:center;">
            PUBG
            <small>Top-up UC</small>
          </div>
        </div>

        <div class="card-game" data-game="roblox" onclick="openProduct('roblox')">
          <div style="text-align:center;">
            ROBLOX
          </div>
        </div>

        <div class="card-game" data-game="ragnarok" onclick="openProduct('ragnarok')">
          <div style="text-align:center;">
            RAGNAROK
          </div>
        </div>

        <div class="card-game" data-game="others" onclick="openProduct('others')">
          <div style="text-align:center;">
            Game Lainnya
          </div>
        </div>
      </div>
    </div>

    <footer>© 2025 FERI STORE - All Rights Reserved.</footer>
  </div>

  <!-- REKBER Modal -->
  <div class="modal fade" id="rekberModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header border-0">
          <h5 class="modal-title">Transaksi Rekber</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style="max-height:64vh;overflow:auto;">
          <p>Pilih opsi Rekber:</p>
          <div class="d-grid gap-2 mb-3">
            <a id="rekberFb" class="btn btn-outline-light" target="_blank"
               href="https://www.facebook.com/bangjuan168?mibextid=ZbWKwL">REKBER VIA FB</a>
            <button id="rekberWaBtn" class="btn btn-outline-light">REKBER VIA WHATSAPP ADMIN</button>
          </div>

          <form id="rekberForm" style="display:none">
            <div class="mb-2">
              <label for="waSeller">Nomor WA Seller</label>
              <input id="waSeller" class="form-control" placeholder="628xxxx" />
            </div>
            <div class="mb-2">
              <label for="waBuyer">Nomor WA Buyer</label>
              <input id="waBuyer" class="form-control" placeholder="628xxxx" />
            </div>
            <div class="mb-2">
              <label for="rekberAmount">Nilai Transaksi (Rp)</label>
              <input id="rekberAmount" type="number" class="form-control" placeholder="100000" />
            </div>
            <div class="mb-3">
              <label for="rekberProduct">Produk</label>
              <input id="rekberProduct" class="form-control" placeholder="Contoh: MLDP28 - 28 Diamond" />
            </div>
            <button id="sendRekber" class="btn btn-danger w-100">Kirim Transaksi ke Admin (WA)</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Product Modal -->
  <div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header border-0">
          <h5 id="productTitle" class="modal-title">Top-up</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style="max-height:72vh;overflow:auto;">
          <form id="productForm">
            <div class="mb-2">
              <label for="gameId">ID GAME (server + id / username)</label>
              <input id="gameId" class="form-control" placeholder="Contoh: 1234-5678 / username" required />
            </div>

            <div class="mb-3">
              <label for="paketSelect">Pilih Paket</label>
              <select id="paketSelect" class="form-select" required>
                <option value="">-- pilih paket --</option>
              </select>
            </div>

            <div class="mb-3 pay-preview">
              <div class="d-flex justify-content-between"><div>Harga dasar</div><div id="basePrice">-</div></div>
              <div class="d-flex justify-content-between"><div>3 digit verifikasi</div><div id="rand3">-</div></div>
              <div class="d-flex justify-content-between"><div><strong>Total yang harus dibayar</strong></div><div id="totalPrice"><strong>-</strong></div></div>

              <div class="mt-3 d-flex gap-2">
                <button type="button" id="copyTotal" class="btn btn-sm btn-outline-light">Salin Total</button>
                <button type="button" id="showDana" class="btn btn-sm btn-outline-light">Tampilkan DANA</button>
                <button type="button" id="showQris" class="btn btn-sm btn-outline-light">Tampilkan QRIS</button>
              </div>

              <div id="payInfo" class="mt-3" style="display:none">
                <div id="danaInfo" style="display:none" class="muted">DANA: <strong>085156375253</strong> (Vina Pandu winata)</div>
                <div id="qrisImage" style="display:none"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhS8JSpX1dp4v54D7iCOK4zyRJtZOFh1vuG9JLrU6AroEZfBbqMymFv1HjLSpFzYO4G28RM67k4nvWeBgQl-NJWuHJzKytTvHJifHYCszxN999ZTinKoxYi0jFATqawnomHHFSnL9Cg03a0XcwWrbJh2ckt7muSbgA6YQTO_kySYyWqajF4JJdE5sHUFsMV/s320/QRIS.png" alt="QRIS" class="qris-img" /></div>
              </div>
            </div>

            <div class="mt-3">
              <button id="sendOrder" class="btn btn-danger w-100">Kirim Transaksi ke Admin (WA)</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // product data
  const PRODUCTS = {
    mlbb: [
      {code:'MLDP28', name:'28 Diamond', price:10000},
      {code:'MLDP36', name:'36 Diamond', price:12000},
      {code:'MLDP59', name:'59 Diamond', price:18000},
      {code:'MLDP74', name:'74 Diamond', price:22000},
      {code:'MLDP85', name:'85 Diamond', price:24000},
      {code:'MLDP172', name:'172 Diamond', price:49000},
      {code:'MLDP370', name:'370 Diamond', price:101000}
    ],
    ff: [
      {code:'FFP70', name:'70 Diamond', price:10000},
      {code:'FFP100', name:'100 Diamond', price:15000},
      {code:'FFP140', name:'140 Diamond', price:20000},
      {code:'FFP200', name:'200 Diamond', price:28000},
      {code:'FFP400', name:'400 Diamond', price:53000},
      {code:'FFP720', name:'720 Diamond', price:93000},
      {code:'FFP1000', name:'1000 Diamond', price:128000},
      {code:'FFP2000', name:'2000 Diamond', price:256000}
    ],
    roblox: [
      {code:'RBX1', name:'100 Robux', price:91000},
      {code:'RBX2', name:'200 Robux', price:109000},
      {code:'RBX4', name:'400 Robux', price:141000}
    ],
    pubg: [], ragnarok: [], others: []
  };

  const adminWA = '6285157077789';
  function $(id){return document.getElementById(id)}
  function formatRupiah(n){ return 'Rp ' + Number(n).toLocaleString('id-ID'); }
  function random3(){ return Math.floor(Math.random()*900)+100; } // 100..999

  // Rekber modal
  const rekberModal = new bootstrap.Modal($('rekberModal'));
  $('openRekber').addEventListener('click', (e)=>{ e.preventDefault(); rekberModal.show(); });
  $('rekberWaBtn').addEventListener('click', ()=>{ $('rekberForm').style.display='block'; });

  $('sendRekber').addEventListener('click', (ev)=>{
    ev.preventDefault();
    const seller = $('waSeller').value.trim();
    const buyer = $('waBuyer').value.trim();
    const amount = $('rekberAmount').value.trim();
    const prod = $('rekberProduct').value.trim();
    if(!seller || !buyer || !amount){ alert('Lengkapi data Rekber'); return; }
    const text = `Permintaan Rekber%0ASeller:%20${encodeURIComponent(seller)}%0ABuyer:%20${encodeURIComponent(buyer)}%0AProduk:%20${encodeURIComponent(prod)}%0AJumlah:%20Rp${encodeURIComponent(amount)}`;
    window.open(`https://wa.me/${adminWA}?text=${text}`,'_blank');
  });

  // product modal
  const productModal = new bootstrap.Modal($('productModal'));
  function openProduct(game){
    const title = $('productTitle');
    title.textContent = (game==='mlbb')? 'Top-up Mobile Legend' : (game==='ff')? 'Top-up Free Fire' : (game==='roblox')? 'Top-up Roblox' : 'Top-up '+game.toUpperCase();
    const sel = $('paketSelect');
    sel.innerHTML = '<option value="">-- pilih paket --</option>';
    const list = PRODUCTS[game] || [];
    if(list.length===0){
      sel.innerHTML += `<option value="">Tidak ada paket untuk ${game}</option>`;
    } else {
      list.forEach(p=>{
        const v = JSON.stringify(p);
        const txt = `${p.code} — ${p.name} — ${formatRupiah(p.price)}`;
        sel.innerHTML += `<option value='${v}'>${txt}</option>`;
      });
    }
    // reset preview
    $('basePrice').textContent = '-';
    $('rand3').textContent = '-';
    $('totalPrice').textContent = '-';
    $('payInfo').style.display='none';
    $('danaInfo').style.display='none';
    $('qrisImage').style.display='none';
    // store game
    $('productModal').dataset.game = game;
    productModal.show();
  }

  // compute and display total
  $('paketSelect').addEventListener('change', computeTotal);
  function computeTotal(){
    const val = $('paketSelect').value;
    if(!val) return;
    const p = JSON.parse(val);
    const base = Number(p.price);
    const r = random3();
    const total = Math.floor(base/1000)*1000 + r; // 3-digit alg
    $('basePrice').textContent = formatRupiah(base);
    $('rand3').textContent = r;
    $('totalPrice').innerHTML = '<strong>' + formatRupiah(total) + '</strong>';
    $('productModal').dataset.total = total;
    $('productModal').dataset.paket = p.code + ' | ' + p.name;
  }

  // payment display
  $('showDana').addEventListener('click', ()=>{ $('payInfo').style.display='block'; $('danaInfo').style.display='block'; $('qrisImage').style.display='none'; });
  $('showQris').addEventListener('click', ()=>{ $('payInfo').style.display='block'; $('danaInfo').style.display='none'; $('qrisImage').style.display='block'; });

  // copy total
  $('copyTotal').addEventListener('click', ()=>{
    const t = $('productModal').dataset.total;
    if(!t){ alert('Belum ada total'); return; }
    navigator.clipboard.writeText(String(t)).then(()=>{ alert('Total tersalin: ' + t); });
  });

  // send order to WA admin
  $('sendOrder').addEventListener('click', (e)=>{
    e.preventDefault();
    const game = $('productModal').dataset.game || '';
    const id = $('gameId').value.trim();
    const paketRaw = $('paketSelect').value;
    if(!id || !paketRaw){ alert('Lengkapi form top-up (ID & paket)'); return; }
    const paket = JSON.parse(paketRaw);
    // recompute final fresh for message
    const r = random3();
    const final = Math.floor(paket.price/1000)*1000 + r;
    const msg = `Order TopUp ${encodeURIComponent(game.toUpperCase())}%0AID:%20${encodeURIComponent(id)}%0APaket:%20${encodeURIComponent(paket.code)}%20(${encodeURIComponent(paket.name)})%0AHarga:%20Rp${final}`;
    window.open(`https://wa.me/${adminWA}?text=${msg}`,'_blank');
  });

  // small UX: when modal shown, focus first input
  document.getElementById('productModal').addEventListener('shown.bs.modal', ()=>{ const el = $('gameId'); if(el) el.focus(); });
  document.getElementById('rekberModal').addEventListener('shown.bs.modal', ()=>{ const el = $('waSeller'); if(el) el.focus(); });
</script>
</body>
</html>
